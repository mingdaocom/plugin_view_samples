# è§†å›¾æ’ä»¶æºç ç¤ºä¾‹

|æ’ä»¶åç§°|ä½œè€…|æºä»£ç |
|-|-|-|
|åœ°å›¾|è£´æ™“é—¯|Github åœ°å€ï¼š[https://github.com/mingdaocom/plugin_view_samples/map](https://github.com/mingdaocom/plugin_view_samples/map)<br />Gitee åœ°å€ï¼š[https://gitee.com/mingdaocloud/plugin_view_samples/map](https://gitee.com/mingdaocloud/plugin_view_samples/map)|
|æ˜ç»†è¡¨|è°¢æˆåˆš|Github åœ°å€ï¼š[https://github.com/mingdaocom/plugin_view_samples/table](https://github.com/mingdaocom/plugin_view_samples/table)<br />Gitee åœ°å€ï¼š[https://gitee.com/mingdaocloud/plugin_view_samples/table](https://gitee.com/mingdaocloud/plugin_view_samples/table)|
|æ—¶é—´è½´|å®‰è|Github åœ°å€ï¼š[https://github.com/mingdaocom/plugin_view_samples/timeline](https://github.com/mingdaocom/plugin_view_samples/timeline)<br />Gitee åœ°å€ï¼š[https://gitee.com/mingdaocloud/plugin_view_samples/timeline](https://gitee.com/mingdaocloud/plugin_view_samples/timeline)|

# è§†å›¾æ’ä»¶å¼€å‘æ–‡æ¡£

ä» V10.0 å¼€å§‹ï¼Œæ˜é“äº‘æ­£å¼æ”¯æŒæ’ä»¶æ¶æ„ã€‚æœ¬æ–‡æ¡£æ˜¯ä¾›å¼€å‘è€…é˜…è¯»çš„ã€Œè§†å›¾ã€æ’ä»¶å¼€å‘æ–‡æ¡£ï¼Œéœ€è¦å¼€å‘è€…å…·å¤‡å‰ç«¯å¼€å‘åŸºç¡€ï¼ŒæŒæ¡Javascriptã€CSSå’ŒHTMLç­‰ç›¸å…³çŸ¥è¯†ã€‚
> å¦‚æœå¼€å‘è€…ç†Ÿæ‚‰ React JSï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹æ˜é“äº‘å‰ç«¯å¼€æºé¡¹ç›® [https://github.com/mingdaocom/pd-openweb](https://github.com/mingdaocom/pd-openweb) ï¼Œå‚è€ƒæ˜é“äº‘ç³»ç»Ÿè§†å›¾ä»£ç è¿›è¡Œæ’ä»¶çš„å¼€å‘ã€‚

## å…³äºè§†å›¾æ’ä»¶

### ä»€ä¹ˆæ˜¯è§†å›¾æ’ä»¶ï¼Ÿ
è§†å›¾æ’ä»¶åˆå«ã€Œè‡ªå®šä¹‰è§†å›¾ã€ï¼Œå½“æ˜é“äº‘çš„è¡¨æ ¼ã€çœ‹æ¿ã€å±‚çº§ã€æ—¥å†ã€ç”»å»Šã€è¯¦æƒ…ã€ç”˜ç‰¹å›¾ç­‰ç³»ç»Ÿè§†å›¾ä¸èƒ½æ»¡è¶³ç”¨æˆ·è§†å›¾å±•ç¤ºéœ€æ±‚çš„æ—¶å€™ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡è‡ªå·±ç¼–å†™ä»£ç å®ç°ä¸€ä¸ªå®Œå…¨è‡ªå®šä¹‰çš„è§†å›¾é¡µé¢ï¼Œç”¨äºå±•ç¤ºå·¥ä½œè¡¨çš„è®°å½•æ•°æ®ã€‚è‡ªå®šä¹‰è§†å›¾æ”¯æŒæœç´¢ã€ç­›é€‰ã€ç»Ÿè®¡ã€å¿«é€Ÿç­›é€‰å’Œç­›é€‰åˆ—è¡¨ç­‰æ“ä½œï¼Œè¿˜å¯ä»¥é€šè¿‡æ˜é“äº‘å…¬å…±Javascriptæ¥å£å®ç°è°ƒç”¨ç³»ç»Ÿç»„ä»¶ï¼Œæ¯”å¦‚å±•ç¤ºè®°å½•è¯¦æƒ…å¼¹çª—ã€è°ƒç”¨æ–°å»ºè®°å½•çª—å£ç­‰ç­‰ã€‚
### è§†å›¾æ’ä»¶å’Œç³»ç»Ÿè§†å›¾æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
ä»ä½¿ç”¨è€…çš„è§’åº¦çœ‹ï¼Œè§†å›¾æ’ä»¶å’Œæ™®é€šè§†å›¾æ˜¯æ²¡æœ‰ä»»ä½•åŒºåˆ«çš„ã€‚å½“ç»„ç»‡ç®¡ç†å‘˜é€šè¿‡å‘å¸ƒå¼€å‘è€…æ’ä»¶ã€å®‰è£…æ’ä»¶æˆ–è€…å¯¼å…¥æ’ä»¶åï¼Œæ‰€æœ‰å·²å¯ç”¨çš„æ’ä»¶å³å¯¹ç»„ç»‡ä¸‹çš„æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼Œç”¨æˆ·å¯ä»¥åƒä½¿ç”¨è¡¨æ ¼ã€çœ‹æ¿ã€æ—¥å†ç­‰ç³»ç»Ÿè§†å›¾ä¸€æ ·ä½¿ç”¨è¿™äº›è§†å›¾ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸çš„ä¸ºè§†å›¾åˆ†é…æƒé™å’Œè¿›è¡Œè§†å›¾åˆ†äº«ç­‰æ“ä½œã€‚

## å¼€å‘æ­¥éª¤


### å‡†å¤‡å·¥ä½œ

  -  å®‰è£… Node.jsï¼ˆ>=16.20ï¼‰ å’Œ npm
  -  å‡†å¤‡é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œæ¨è VS Code
  -  å¦‚æœæ˜¯å›¢é˜Ÿå¼€å‘ï¼Œè¯·å‡†å¤‡å¥½ä»£ç ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œæ¨è Git

### åˆ›å»ºè§†å›¾æ’ä»¶

è¦åˆ›å»ºä¸€ä¸ªè§†å›¾æ’ä»¶ï¼Œæœ‰ä¸¤ç§æ–¹å¼ã€‚

#### 1. åˆ›å»ºè‡ªå®šä¹‰è§†å›¾

é€šè¿‡åœ¨æ–°å»ºè§†å›¾æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªã€Œè‡ªå®šä¹‰è§†å›¾ã€ï¼Œæ­¤æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªè§†å›¾æ’ä»¶ï¼Œå¹¶ä»¥å½“å‰å·¥ä½œè¡¨ä¸ºè¯¥è§†å›¾çš„å¼€å‘è°ƒè¯•ç¯å¢ƒã€‚

![ä»å·¥ä½œè¡¨è§†å›¾åˆ›å»º](_readme_static_assets/developer_view1.png)

#### 2. åœ¨æ’ä»¶ä¸­å¿ƒåˆ¶ä½œæ’ä»¶

åœ¨ç³»ç»Ÿé¦–é¡µè¿›å…¥ã€Œæ’ä»¶ä¸­å¿ƒã€

![æ’ä»¶ä¸­å¿ƒ](_readme_static_assets/developer_view2.png)

åœ¨æ’ä»¶ã€Œæˆ‘å¼€å‘çš„ã€é¡µé¢ä¸­ç‚¹å‡»ã€Œåˆ¶ä½œæ’ä»¶ã€

![æ’ä»¶ä¸­å¿ƒâ€”æˆ‘å¼€å‘çš„](_readme_static_assets/developer_view3.png)

é€šè¿‡æ­¤æ–¹å¼åˆ›å»ºæ’ä»¶æ—¶ï¼Œä»ç„¶éœ€è¦é€‰æ‹©ä¸€å¼ å·¥ä½œè¡¨ä½œä¸ºå¼€å‘è°ƒè¯•ç¯å¢ƒï¼Œé€‰æ‹©åä¼šè‡ªåŠ¨åœ¨è¯¥å·¥ä½œè¡¨ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„è§†å›¾ç”¨äºå¼€å‘è°ƒè¯•è§†å›¾æ’ä»¶ã€‚

åˆ›å»ºå¥½æ’ä»¶åï¼Œè¿›å…¥åˆ°å·¥ä½œè¡¨ä¸‹æ–°åˆ›å»ºçš„è¿™ä¸ªè‡ªå®šä¹‰è§†å›¾ï¼Œå¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥å¼€å‘ã€‚

![è‡ªå®šä¹‰è§†å›¾](_readme_static_assets/developer_view4.png)

#### 3. æ’ä»¶éœ€æ±‚åˆ†æ

åœ¨åˆ¶ä½œè§†å›¾æ’ä»¶ä¹‹å‰ï¼Œä¸€å®šè¦å¯¹è¦å¼€å‘çš„è§†å›¾è¿›è¡Œéœ€æ±‚åˆ†æï¼Œæ˜ç¡®è§†å›¾çš„é€‚ç”¨èŒƒå›´ï¼Œå¹¶é€šè¿‡è®¾è®¡åˆç†çš„è®¾ç½®é¡¹æ¥æé«˜è§†å›¾æ’ä»¶çš„é€šç”¨æ€§ã€‚

æ¯”å¦‚ï¼Œæœ‰ä¸¤å¼ å·¥ä½œè¡¨ï¼šè®¢å•å’Œè®¢å•æ˜ç»†ã€‚

|è®¢å•è¡¨|è®¢å•æ˜ç»†è¡¨|
|-|-|
|![è®¢å•è¡¨](_readme_static_assets/developer_view5.png)|![è®¢å•æ˜ç»†è¡¨](_readme_static_assets/developer_view5-2.png)|

ç°åœ¨å¼€å‘è€…æƒ³è‡ªå·±å¼€å‘ä¸€ä¸ªè§†å›¾ï¼Œå°†ã€Œè®¢å•æ˜ç»†ã€çš„æ•°æ®æ˜¾ç¤ºåˆ°ä¸»ã€Œè®¢å•ã€çš„è¡¨æ ¼ä¸­ï¼Œä¸»è®¢å•çš„æ•°æ®å°†ä»¥åˆå¹¶å•å…ƒæ ¼çš„æ–¹å¼åŒæ—¶å±•ç¤ºä¸¤å¼ è¡¨çš„æ•°æ®ï¼Œå¤§æ¦‚ç±»ä¼¼è¿™æ ·ï¼š

![æ˜ç»†è¡¨](_readme_static_assets/developer_view6.png)

é¦–å…ˆï¼Œåœ¨åŠŸèƒ½å®ç°ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é‡‡å–å…ˆåŠ è½½ä¸»è¡¨æ ¼ï¼Œå†é€šè¿‡å¼‚æ­¥çš„æ–¹å¼è·å–å­è¡¨æ•°æ®è¿›è¡ŒåŠ è½½ã€‚

å…¶æ¬¡ï¼Œç»è¿‡åˆ†æï¼Œè¿™ä¸ªè§†å›¾æ’ä»¶å¦‚æœè¦åšåˆ°æœ‰ä¸€å®šçš„é€šç”¨æ€§ï¼Œç»™ä»»æ„ä¸€ä¸ªå·¥ä½œè¡¨éƒ½èƒ½ä½¿ç”¨ï¼Œé‚£å°±éœ€è¦å¢åŠ ä¸€äº›ä½¿ç”¨è€…å¯ä»¥è‡ªç”±é…ç½®çš„å†…å®¹ï¼š

- è¿™ä¸ªè§†å›¾è¡¨æ ¼çš„æ˜¾ç¤ºå­—æ®µå’Œé¡ºåºæ˜¯å…è®¸ä½¿ç”¨è€…è‡ªè¡Œè°ƒæ•´é…ç½®çš„ï¼›
- ä¸€ä¸ªå·¥ä½œè¡¨å¯èƒ½å­˜åœ¨å¤šå¼ å­è¡¨ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨è€…é…ç½®è¦æŠŠå“ªå¼ å­è¡¨å±•ç¤ºåˆ°ä¸»è¡¨æ ¼ä¸­ï¼›

é€šè¿‡å¯¹è§†å›¾éœ€æ±‚çš„æ•´ç†ï¼Œå¯ä»¥è®©ç”¨æˆ·æ›´åŠ æ˜ç¡®å¼€å‘çš„ç›®æ ‡å’Œå®ç°çš„è¾¹ç•Œï¼Œä¹Ÿæ›´å®¹æ˜“å°†æ’ä»¶åšåˆ°é€‚åº”æ›´å¤šçš„é€šç”¨åœºæ™¯ï¼Œé™ä½å¼€å‘çš„æˆæœ¬ã€‚

#### 4. æ’ä»¶åŸºç¡€è®¾ç½®

![æ’ä»¶é…ç½®](_readme_static_assets/developer_view7.png)

##### i. å›¾æ ‡å’Œåç§°

æ’ä»¶çš„åç§°å»ºè®®èƒ½å‡†ç¡®è¡¨è¾¾è§†å›¾çš„ä½œç”¨ï¼Œä¸”ä¸ç”¨å¸¦â€œè§†å›¾â€äºŒå­—ï¼Œæ¯”å¦‚ï¼šã€Œåœ°å›¾ã€ã€ã€Œæ€ç»´å¯¼å›¾ã€ã€ã€Œæ ‘å‹è¡¨æ ¼ã€ç­‰ç­‰ã€‚

å›¾æ ‡å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å›¾æ ‡ï¼Œè¿™ä¸ªç›¸å½“äºæ’ä»¶çš„logoã€‚

##### ii. åŠŸèƒ½å¯ç”¨

è§†å›¾æ’ä»¶å…è®¸ç”¨æˆ·è‡ªç”±é€‰æ‹©æ˜¯å¦å¯ç”¨ã€Œå¿«é€Ÿç­›é€‰ã€å’Œã€Œç­›é€‰åˆ—è¡¨ã€ã€‚å½“å¯ç”¨åï¼Œè§†å›¾ä½¿ç”¨è€…åœ¨æ“ä½œäº†å¿«é€Ÿç­›é€‰é¡¹å’Œç­›é€‰åˆ—è¡¨åï¼Œç³»ç»Ÿå°†å‘æ’ä»¶å‘é€äº‹ä»¶è§¦å‘æ¶ˆæ¯ï¼Œå¼€å‘è€…éœ€è¦åœ¨æ’ä»¶ä¸­æ·»åŠ äº‹ä»¶å¤„ç†å¥æŸ„å¹¶é€šè¿‡ä¼ å…¥çš„ç­›é€‰æ¡ä»¶å¤„ç†æ•°æ®ç­›é€‰é€»è¾‘ã€‚

å¯ä»¥å‚è€ƒæœ¬æ–‡æ¡£é™„å½•ä¸­çš„ [mdye æ¶ˆæ¯ç³»ç»Ÿ](#mdye-æ¶ˆæ¯ç³»ç»Ÿ) ç¤ºä¾‹ä»£ç ã€‚

##### iii. å®šä¹‰è§†å›¾è®¾ç½®é¡¹å‚æ•°

|![ä¸»è¡¨](_readme_static_assets/developer_view8-1.png)|![å­è¡¨](_readme_static_assets/developer_view8-2.png)|![é…ç½®](_readme_static_assets/developer_view8-3.png)|
|:-:|:-:|:-:|
|ä¸»è¡¨æ˜¾ç¤ºå­—æ®µ|æ˜ç»†è¡¨å­—æ®µ|å‚æ•°æ˜ å°„é…ç½®|

åœ¨ä»¥ä¸Šè¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªè§†å›¾è®¾ç½®é¡¹ï¼šã€Œæ˜¾ç¤ºå­—æ®µ(`showFields`)ã€å’Œã€Œå­è¡¨æ˜ç»†å­—æ®µ(`sub`)ã€ï¼Œåˆ†åˆ«å¯¹åº”ä¸¤ä¸ªé…ç½®çš„éœ€æ±‚ã€‚åœ¨ã€Œå‚æ•°æ˜ å°„ã€ä¸­ï¼Œå¼€å‘è€…å¯ä»¥å°†å®é™…çš„è§†å›¾é…ç½®æ˜ å°„åˆ°å­—æ®µé‡Œï¼Œå¹¶åœ¨ä»£ç ä¸­é€šè¿‡ `env` å˜é‡è·å–åˆ°å®ƒçš„å€¼ã€‚å‚è€ƒä»£ç ï¼š

```javascript
import { env } from "mdye";
const { showFields, sub } = env;
// showFields, sub å³ä¸ºä½¿ç”¨è€…é…ç½®çš„å€¼ï¼Œå˜é‡åç§°å’Œé…ç½®ä¸­çš„å˜é‡IDä¸€ä¸€å¯¹åº”
```

è®¾ç½®é¡¹å‚æ•°æœ‰å¦‚ä¸‹å‡ ç§ç±»å‹ï¼š

|è®¾ç½®é¡¹ç±»å‹|å­ç±»å‹|å€¼ç±»å‹|å¤‡æ³¨|
|-|-|-|-|
|å­—æ®µé€‰æ‹©å™¨|å­—æ®µå•é€‰<br />å­—æ®µå¤šé€‰|array[string]|å­—æ®µå¤šé€‰æ—¶ï¼Œå¯ä»¥é™åˆ¶é€‰æ‹©å­—æ®µçš„æ•°é‡|
|å­—ç¬¦ä¸²||string||
|æ•°å€¼||double||
|æšä¸¾å€¼|å•é€‰æ¡†<br />ä¸‹æ‹‰èœå•|array[string]|é€‰é¡¹æ ¼å¼ä¸º key=value ï¼Œå…¶ä¸­ vlaue ä¸ºå‘ˆç°ç»™ä½¿ç”¨è€…çš„æ–‡å­—ï¼Œkey ä¸ºä»£ç ä¸­è·å–åˆ°çš„å€¼ï¼›<br />æ ·å¼ä¸ºå•é€‰æ¡†æ—¶ï¼Œå¯ä»¥é€‰æ‹©æ¨ªå‘æˆ–ç«–å‘æ’åˆ—ï¼›|
|å¸ƒå°”å€¼|å¼€å…³<br />å‹¾é€‰æ¡†|boolean||
|åˆ†ç»„æ ‡é¢˜||null||

#### 5. åˆ›å»ºæœ¬åœ°é¡¹ç›®

æ¥ä¸‹æ¥ï¼Œåˆ‡æ¢åˆ°ã€Œå¼€å‘è°ƒè¯•ã€é¢æ¿ï¼Œæˆ‘ä»¬å°†æ ¹æ®å‘å¯¼åˆ›å»ºä¸€ä¸ªæœ¬åœ°é¡¹ç›®ï¼Œå¹¶å°†æœ¬åœ°é¡¹ç›®è¿è¡Œåœ¨è°ƒè¯•å·¥ä½œè¡¨ä¸­ã€‚

![å¼€å‘è°ƒè¯•å‘å¯¼](_readme_static_assets/developer_view9.png)

##### i. é€‰æ‹©è„šæ‰‹æ¶æ¨¡æ¿

ç›®å‰ç³»ç»Ÿæä¾›äº†ã€ŒReact åŸºç¡€ç¤ºä¾‹æ¨¡æ¿ã€å’Œã€ŒJavascript åŸºç¡€ç¤ºä¾‹æ¨¡æ¿ã€ï¼Œé€‰æ‹©å¯¹åº”çš„æ¨¡æ¿åï¼Œåœ¨æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤æ—¶ä¼šåˆ›å»ºå¯¹åº”çš„æ¨¡æ¿æ–‡ä»¶ã€‚

##### ii. å®‰è£… mdye cli å‘½ä»¤è¡Œå·¥å…·

æœ¬åœ°é¡¹ç›®çš„åˆå§‹åŒ–åˆ›å»ºæ˜¯é€šè¿‡æ˜é“äº‘çš„å‘½ä»¤è¡Œå·¥å…· `mdye` æ¥å®ç°çš„ï¼Œæ‰€ä»¥éœ€è¦äº‹å…ˆå…¨å±€å®‰è£…è¿™ä¸ªå·¥å…·ã€‚`mdye` æ˜¯ MingDaoYun Extensions çš„é¦–å­—æ¯ç¼©å†™ã€‚

![å®‰è£…mdye-cli](_readme_static_assets/developer_view10.png)

è¯·åœ¨è®¡ç®—æœºç»ˆç«¯å‘½ä»¤è¡Œç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```shell
$ npm install -g mdye-cli
```

å¦‚æœæŠ¥æ²¡æœ‰æƒé™çš„é”™è¯¯ï¼Œè¯·ç”¨ `sudo` æ¥å®‰è£…ï¼š

```shell
$ sudo npm install -g mdye-cli
```

å®‰è£…å®Œæˆåï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š

```shell
$ mdye --version
beta-0.0.15
```
å¦‚æœèƒ½æ­£å¸¸è¾“å‡ºç‰ˆæœ¬å·ï¼Œåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚è¿™ä¸ªå·¥å…·çš„å®‰è£…é€šå¸¸æ¥è¯´æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œå³åç»­å¼€å‘æ–°æ’ä»¶æ—¶æ— éœ€å†æ¬¡å®‰è£…è¯¥å·¥å…·ã€‚å¦‚æœè¯¥å·¥å…·å°†æ¥æœ‰æ–°ç‰ˆæœ¬ï¼Œåˆ™å¯ä»¥é‡æ–°å®‰è£…è¯¥å·¥å…·è¿›è¡Œå‡çº§ã€‚

`mdye` å®Œæ•´çš„å‘½ä»¤å¦‚ä¸‹ï¼š

```shell
Usage: mdye [options] [command]

Options:
  -v, --version   æŸ¥çœ‹ mdye ç‰ˆæœ¬
  -h, --help      å¸®åŠ©

Commands:
  auth            mdye auth  æˆæƒç™»å½•
  init [options]  mdye init view --id <id> --template <template-name> åˆå§‹åŒ–é¡¹ç›®ï¼Œè¯·ä»webç«¯å¤åˆ¶å‘½ä»¤
  start           mdye start å¼€å§‹å¼€å‘
  build           mdye build
  push [options]  mdye push -m <message> æäº¤æ’ä»¶
  whoami          mdye whoami  æˆ‘æ˜¯è°
  logout          mdye logout  æ³¨é”€å½“å‰ç¯å¢ƒè´¦æˆ·
  help [command]  å­å‘½ä»¤å¸®åŠ©
```

##### iii. åˆå§‹åŒ–æœ¬åœ°é¡¹ç›®

![æœ¬åœ°é¡¹ç›®](_readme_static_assets/developer_view11.png)

åœ¨ã€Œå»ºç«‹æœ¬åœ°é¡¹ç›®ã€æ­¥éª¤ä¸­å¤åˆ¶åˆ›å»ºæ’ä»¶æœ¬é¡¹ç›®çš„å‘½ä»¤ï¼Œåœ¨æœ¬åœ°ç»ˆç«¯ä¸­æ‰§è¡Œã€‚

![æœ¬åœ°é¡¹ç›®å‘½ä»¤](_readme_static_assets/developer_view12.png)

ä½ å¯ä»¥è‡ªå®šä¹‰æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹åç§°ï¼Œç›´æ¥å›è½¦åˆ™ä½¿ç”¨ç³»ç»Ÿç»™å®šçš„æ–‡ä»¶å¤¹åç§°ã€‚

æ¥ä¸‹æ¥éœ€è¦å¯åŠ¨æœ¬åœ°é¡¹ç›®ï¼Œæˆ‘ä»¬å…ˆè¿›å…¥æ’ä»¶æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰“å¼€ VS Codeï¼Œæ¥ä¸‹æ¥çš„æ‰€æœ‰æ’ä»¶å¼€å‘æ“ä½œéƒ½åœ¨VS Codeä¸­å®Œæˆï¼š

```shell
$ cd mdye_view_6541abe07a43f661079c234f  #è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹
$ code .   #åœ¨ VS code ä¸­æ‰“å¼€é¡¹ç›®
```

åœ¨VS Codeä¸­æ‰“å¼€é¡¹ç›®åï¼Œä»èœå•ã€Œç»ˆç«¯>æ–°å»ºç»ˆç«¯ã€æ–°å»ºä¸€ä¸ªã€Œç»ˆç«¯ã€çª—å£ï¼Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```shell
$ npm i        #å®‰è£…é¡¹ç›®ä¾èµ–
$ mdye start   #å¯åŠ¨æœ¬åœ°é¡¹ç›®è°ƒè¯•
```

æ‰§è¡Œä¹‹åï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼š

![æ‰§è¡Œç»“æœ](_readme_static_assets/developer_view13.png)

##### iv. è°ƒè¯•æœ¬åœ°æ’ä»¶

é¡¹ç›®è¿è¡ŒæˆåŠŸåï¼Œä¼šç”Ÿæˆä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨jsæ–‡ä»¶ï¼ŒæŠŠè¿™ä¸ªåœ°å€å¡«å…¥æ’ä»¶çš„ã€Œè°ƒè¯•ã€é¡µé¢ï¼Œå¹¶ç‚¹å‡»ã€ŒåŠ è½½ã€ï¼š

![è°ƒè¯•è¿è¡Œæœ¬åœ°é¡¹ç›®](_readme_static_assets/developer_view14.png)

æ­¤æ—¶ï¼Œè§†å›¾é¡µé¢ä¼šåŠ¨æ€æ¸²æŸ“è¯¥è§†å›¾æ’ä»¶ï¼Œæˆ‘ä»¬åœ¨åˆå§‹åŒ–è„šæœ¬é‡Œå†™ä¸€äº†äº›ç®€å•çš„å’Œæ˜é“äº‘å·¥ä½œè¡¨äº¤äº’çš„æ–¹æ³•ï¼š

![è°ƒè¯•è¿è¡Œæœ¬åœ°é¡¹ç›®](_readme_static_assets/developer_view15.png)

ä½ å¯ä»¥å°è¯•ä¿®æ”¹ `src/App.js` æ–‡ä»¶å¹¶ä¿å­˜ï¼Œç”±äºé‡‡ç”¨äº†çƒ­æ›´æ–°æŠ€æœ¯ï¼Œæ‰€ä»¥ä»£ç ä¿®æ”¹ä¿å­˜åä¼šåœ¨è§†å›¾ä¸Šå®æ—¶ç”Ÿæ•ˆã€‚

##### v. é…ç½®ä»£ç çº§ç¯å¢ƒå‚æ•°

ç¯å¢ƒå‚æ•°å¯¹äºæ’ä»¶çš„ä½œç”¨ï¼Œä¸»è¦æ˜¯å­˜æ”¾ä¸€äº›åœ¨ä»£ç çº§åˆ«ä¼šç”¨åˆ°çš„å¼€å‘é…ç½®ï¼Œç”¨äºå°†æ¥æ’ä»¶ä¸Šæ¶åè¢«å®‰è£…æ—¶æˆ–å¯¼å‡ºåˆ°åˆ«çš„ç¯å¢ƒä¸­æ—¶å¯ä»¥æ›´æ¢é…ç½®å€¼ã€‚ä¾‹å¦‚å¼€å‘è€…åœ¨å¼€å‘è§†å›¾æ’ä»¶æ—¶ä½¿ç”¨äº†ä¸€ä¸ªä»˜è´¹çš„ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼ˆå‰ç«¯ï¼‰ï¼Œåœ¨å¼€å‘æ—¶å¼€å‘è€…å¡«å…¥çš„æ˜¯è‡ªå·±çš„ license Keyã€‚å¼€å‘è€…å¸Œæœ›ç”¨æˆ·å®‰è£…æˆ–å¯¼å…¥æ’ä»¶åå¯ä»¥ä½¿ç”¨è‡ªå·±çš„ Keyä¸è¦å…±äº«å¼€å‘è€…çš„ä»˜è´¹æˆæƒã€‚æ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨ç¯å¢ƒå‚æ•°é…ç½®æ¥å¤„ç†ã€‚

ä½†æ˜¯è¿™ä¸ªé…ç½®ä¸æ˜¯è§†å›¾çš„ä½¿ç”¨è€…è¦å»å…³å¿ƒçš„ï¼Œä¹Ÿä¸å¿…åœ¨æ¯æ¬¡ä½¿ç”¨æ’ä»¶è§†å›¾æ—¶éƒ½é…ç½®è¿™ä¸ª keyã€‚æ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªç®¡ç†å‘˜çº§åˆ«çš„åªéœ€è¦é…ç½®ä¸€æ¬¡çš„å€¼ã€‚

![é…ç½®ç¯å¢ƒå‚æ•°](_readme_static_assets/developer_view16.png)

è¿™ä¸ªå‚æ•°æ˜¯JSONæ ¼å¼ï¼Œå®ƒä¼šç›´æ¥è¢«æ³¨å…¥åœ¨ `mdye.env` çš„å‚æ•°ä¸­ï¼Œå¼€å‘è€…åœ¨ç¼–å†™ç¯å¢ƒå‚æ•°æ—¶ï¼Œæ³¨æ„ä¸è¦å’Œé…ç½®é¡¹å‚æ•°çš„IDé‡å¤ã€‚

#### 6. ç¼–å†™æ’ä»¶ä»£ç 

##### i. æ–‡ä»¶ç»“æ„

è§†å›¾æ’ä»¶çš„å®ç°åŸç†ï¼Œæ˜¯é€šè¿‡åµŒå…¥iframeæ¥å±•ç¤ºå®Œå…¨è‡ªå®šä¹‰ä»£ç çš„è§†å›¾ã€‚åœ¨æ’ä»¶é¡µé¢ä¸Šï¼Œæˆ‘ä»¬äº‹å…ˆåµŒå…¥ä¸€ä¸ªHTMLé¡µé¢ï¼Œè¿™é¡µé¢ä¸­æœ‰ä¸€ä¸ª `div` å®¹å™¨ï¼Œå®ƒçš„ `id` æ˜¯ `app` ï¼Œ`index.js` æ˜¯ `javascript` å…¥å£æ–‡ä»¶ã€‚ å› æ­¤æˆ‘ä»¬åªéœ€è¦åœ¨ `index.js` ä¸­æœ€ç»ˆæŠŠ HTML å†…å®¹æ¸²æŸ“åˆ° `#app` å³å¯ã€‚

è¿™ä¸ªæ–‡ä»¶ç»“æ„æ˜¯ç¬¦åˆç°ä»£ä¸»æµå‰ç«¯å·¥ç¨‹çš„ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨ `Vue.js` æˆ– `AngularJS` ç­‰ä½ æ›´ç†Ÿæ‚‰çš„å‰ç«¯å¼€å‘æ¡†æ¶ï¼Œåªéœ€è¦æŠŠ `index.js` ä½œä¸ºå…¥å£æ–‡ä»¶å³å¯ã€‚

> ğŸ“¢ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œç§»åŠ¨ç«¯çš„é€‚é…éœ€è¦å¼€å‘è€…è‡ªè¡Œå®ç°ã€‚å¦‚æœç§»åŠ¨ç«¯æœ‰ç‰¹æ®Šçš„é…ç½®ï¼Œä¹Ÿå¯ä»¥å¢åŠ ä¸€äº›è®¾ç½®é¡¹å‚æ•°æ¥å¤„ç†ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡æ£€æµ‹å½“å‰é¡µé¢ä¸­è·¯å¾„ä¸­æ˜¯å¦ä»¥ `/mobile` å¼€å¤´æ¥åˆ¤æ–­æ˜¯å¦å¤„äºç§»åŠ¨ç«¯è®¾å¤‡ä¸­ã€‚

##### ii. ä»£ç è°ƒè¯•

è§†å›¾æ’ä»¶ä»£ç çš„å¼€å‘å’Œè°ƒè¯•ï¼Œå’Œæ™®é€šå‰ç«¯é¡¹ç›®å¹¶æ— ä¸åŒï¼Œå¼€å‘è€…å¯ä»¥åœ¨æµè§ˆå™¨ä½¿ç”¨ WebDevTools è¿›è¡Œä»£ç çš„è·Ÿè¸ªä¸è°ƒè¯•ã€‚

##### iii. ä¸æ˜é“äº‘æ•°æ®çš„äº¤äº’

æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª `mdye` çš„JSSDKåŒ…æ¥å®ç°ä¸æ˜é“äº‘åº”ç”¨å·¥ä½œè¡¨æ•°æ®çš„äº¤äº’ã€‚è„šæ‰‹æ¶ä¸­å·²ç»é»˜è®¤å®‰è£…äº†æ­¤ä¾èµ–ï¼Œå¦‚æœä½ è¦æ‰‹åŠ¨å®‰è£…ï¼Œå¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š

```shell
$ npm i mdye --save
```
åœ¨é¡¹ç›®ä»£ç ä¸­ï¼Œå¼•å…¥ `mdye` ï¼š


```shell
import { env, config, api, utils } from "mdye";
```

`mdye` æä¾›äº†4ä¸ªå¯¹è±¡ï¼š

- `env` ç”¨äºè·å–è§†å›¾è®¾ç½®é¡¹å‚æ•°
- `config` ç”¨äºè·å–å½“å‰åº”ç”¨ã€å·¥ä½œè¡¨ã€è§†å›¾ç›¸å…³çš„é…ç½®
- `api` æä¾›ä¸€ç³»åˆ—çš„æ–¹æ³•ä¸æ˜é“äº‘å·¥ä½œè¡¨çš„æ•°æ®è¿›è¡Œäº¤äº’
- `utils` è°ƒç”¨æ˜é“äº‘å…¬å…±ç»„ä»¶

è¯¦ç»†ç”¨æ³•å¯ä»¥æŸ¥çœ‹æœ¬æ–‡æ¡£é™„å½•ä¸­çš„ [JSSDK API](#é™„å½•ä¸€mdye-jssdk-api) ã€‚

ä¸‹é¢æ˜¯æŒ‰ä¸Šè¿°ç¤ºä¾‹éœ€æ±‚å¼€å‘å®Œæˆçš„è§†å›¾æ’ä»¶çš„æˆªå›¾ï¼š

![è§†å›¾æ’ä»¶æˆªå›¾](_readme_static_assets/developer_view17.png)

#### 7. æäº¤æœ¬åœ°ä»£ç 

åœ¨è§†å›¾æ’ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶å°†ç¼–è¯‘åçš„æ’ä»¶ä»£ç æäº¤åˆ°æœåŠ¡å™¨ç«¯ä¿å­˜ã€‚å¦‚æœè‡ªå®šä¹‰è§†å›¾ä½¿ç”¨äº†æŸä¸ªå·²æäº¤çš„ç‰ˆæœ¬ä½œä¸ºå½“å‰ä»£ç ï¼ˆéœ€è¦æ¸…é™¤æœ¬åœ°åŠ è½½çš„è°ƒè¯•æ–‡ä»¶ï¼‰ï¼Œåˆ™å…¶ä»–ä»»ä½•æœ‰è¯¥è§†å›¾è®¿é—®æƒé™çš„äººéƒ½å°†çœ‹åˆ°åœ¨æœåŠ¡ç«¯æ¸²æŸ“çš„è§†å›¾ã€‚è€Œåœ¨ã€Œè°ƒè¯•ã€æ¨¡å¼ä¸‹çš„æœ¬åœ°åœ°å€ï¼Œæ˜¯åªæœ‰å¼€å‘è€…æœ¬äººå¯ä»¥é¢„è§ˆåˆ°è§†å›¾çš„æ ·å¼çš„ã€‚

æäº¤æœ¬åœ°ä»£ç ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š

```shell
$ mdye push -m "é¦–æ¬¡æäº¤demo"
```

æ­¤æ—¶ï¼Œå¦‚æœå¼€å‘è€…è¿˜æ²¡æœ‰ç™»å½•æˆæƒåˆ°æœ¬åœ°é¡¹ç›®ï¼Œåˆ™ç³»ç»Ÿä¼šå¼¹å‡ºæˆæƒé¡µé¢è¿›è¡Œè‡ªåŠ¨æˆæƒã€‚ç„¶åï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘å’Œæ‰“åŒ…ä»£ç ï¼Œå¹¶ä»¥å½“å‰ç™»å½•çš„ç”¨æˆ·èº«ä»½è¿›è¡Œä»£ç æäº¤ã€‚

![æäº¤æ’ä»¶](_readme_static_assets/developer_view18.png)

æäº¤æˆåŠŸåï¼Œåœ¨æ’ä»¶çš„ã€Œæäº¤ã€å†å²ä¸­å¯ä»¥æŸ¥çœ‹åˆ°æäº¤çš„ä»£ç ã€‚

![æäº¤å†å²](_readme_static_assets/developer_view19.png)

#### 8. å‘å¸ƒæ’ä»¶

è§†å›¾æ’ä»¶åœ¨å‘å¸ƒä¹‹å‰ï¼Œåªèƒ½åœ¨è°ƒè¯•åº”ç”¨ä¸­è¢«ä½¿ç”¨ã€‚å¦‚æœæƒ³è¦å…¨ç»„ç»‡éƒ½å¯ä»¥ä½¿ç”¨å¼€å‘å¥½çš„æ’ä»¶ï¼Œåˆ™éœ€è¦å°†æ’ä»¶å‘å¸ƒåˆ°ç»„ç»‡ã€‚æ’ä»¶çš„å‘å¸ƒæ˜¯åŸºäºå¼€å‘è€…æäº¤çš„ä»£ç çš„ï¼Œå¼€å‘è€…å¯ä»¥é€‰æ‹©å°†æŸæ¬¡æäº¤çš„ä»£ç å‘å¸ƒä¸ºä¸€ä¸ªæ­£å¼çš„ç‰ˆæœ¬ã€‚å‘å¸ƒæ—¶ï¼Œéœ€è¦å®šä¹‰ç‰ˆæœ¬å·ï¼Œä¸”æ¯æ¬¡å‘å¸ƒçš„ç‰ˆæœ¬å·åªèƒ½å¤§äºå½“å‰çš„ç‰ˆæœ¬å·ã€‚

![æ’ä»¶å‘å¸ƒ](_readme_static_assets/developer_view20.png)

å¦‚æœç®¡ç†å‘˜åœ¨ã€Œæ’ä»¶ä¸­å¿ƒã€ä¸­å¯ç”¨äº†è¯¥æ’ä»¶ï¼Œåˆ™è¯¥æ’ä»¶å°†å¯¹å…¨ç»„ç»‡ä¸‹çš„æˆå‘˜ç”Ÿæ•ˆï¼Œæ­¤æ—¶æ‰€æœ‰äººéƒ½å¯ä»¥åœ¨æ­å»ºåº”ç”¨æ—¶ä½¿ç”¨è¯¥è§†å›¾ã€‚

![å¯ç”¨æ’ä»¶](_readme_static_assets/developer_view21.png)

æ­¤æ—¶ä¸ºå·¥ä½œè¡¨ã€Œæ·»åŠ è§†å›¾ã€æ—¶å°±ä¼šå‡ºç°è§†å›¾æ’ä»¶çš„å¯é€‰é¡¹ï¼š

![æ·»åŠ è§†å›¾](_readme_static_assets/developer_view22.png)

#### 9. æ’ä»¶ç®¡ç†

åœ¨ã€Œæ’ä»¶ä¸­å¿ƒã€ï¼Œå¯ä»¥å¯¹å¼€å‘ä¸­å’Œå·²å‘å¸ƒçš„æ’ä»¶è¿›è¡Œç®¡ç†ã€‚

ã€Œæˆ‘å¼€å‘çš„ã€åˆ—è¡¨ä¸­çš„æ’ä»¶ä¸ºå¼€å‘è€…è‡ªå·±åˆ›å»ºçš„æ’ä»¶ã€‚å¯ä»¥åœ¨æ­¤ä¸ºæ’ä»¶æ·»åŠ è°ƒè¯•åº”ç”¨ã€æŸ¥çœ‹æäº¤å†å²ä¸å‘å¸ƒå†å²ã€å‘å¸ƒæ–°çš„æ’ä»¶ç‰ˆæœ¬ã€‚

![æˆ‘å¼€å‘çš„æ’ä»¶](_readme_static_assets/developer_view23.png)

ã€Œç»„ç»‡ã€åˆ—è¡¨ä¸­æ˜¯ç»„ç»‡ä¸‹å·²ç»å‘å¸ƒçš„æ‰€æœ‰æ’ä»¶ã€‚å¯ä»¥åœ¨æ­¤æŸ¥çœ‹æ’ä»¶çš„å‘å¸ƒå†å²ï¼Œå¯¹æ’ä»¶è¿›è¡Œç¯å¢ƒå‚æ•°é…ç½®ï¼Œä»¥åŠæŸ¥çœ‹æ’ä»¶çš„ä½¿ç”¨æ˜ç»†ã€‚ç®¡ç†å‘˜ä¹Ÿå¯ä»¥åœ¨æ­¤å‘å¸ƒæ–°ç‰ˆæœ¬å¯¹æ’ä»¶å‡çº§å’Œå›æ»šæ’ä»¶ç‰ˆæœ¬ã€‚

![ç»„ç»‡ä¸‹çš„æ’ä»¶](_readme_static_assets/developer_view24.png)

> æ³¨ï¼šæ™®é€šç”¨æˆ·ï¼ˆéç»„ç»‡åº”ç”¨ç®¡ç†å‘˜ï¼‰å¯¹ç»„ç»‡ä¸‹çš„æ’ä»¶åªæœ‰åˆ—è¡¨æŸ¥çœ‹æƒé™ï¼Œæ²¡æœ‰ç®¡ç†æƒé™

#### 10. æ’ä»¶çš„å¯¼å‡ºå¯¼å…¥

æš‚æœªå¼€æ”¾æ’ä»¶å¯¼å‡ºå¯¼å…¥åŠŸèƒ½ï¼Œæ•¬è¯·æœŸå¾…ã€‚

#### 11. ä¸Šæ¶åˆ°æ’ä»¶åº“ä¸å®‰è£…æ’ä»¶

æš‚æœªå¼€æ”¾ä¸Šæ¶åˆ°æ’ä»¶åº“åŠŸèƒ½ï¼Œæ•¬è¯·æœŸå¾…ã€‚




## é™„å½•ä¸€ï¼š`mdye` JSSDK API

### mdye.env

```javascript
{
    "env": {
      "fields": ["controlId"], // å­—æ®µé€‰æ‹©å™¨
      "string": "string",      // å­—ç¬¦ä¸²
      "numeric": 10,           // æ•°å€¼
      "enum": ["key"],         // æšä¸¾å€¼
      "boolean": true,         // å¸ƒå°”å€¼
    }
}
```

### mdye.config

```javascript
{
    "config": {
      "appId": "string",         // å½“å‰åº”ç”¨ID
      "worksheetId": "string",   // å½“å‰å·¥ä½œè¡¨ID  
      "viewId": "string",        // å½“å‰è§†å›¾ID
      "controls": [{             // å½“å‰è§†å›¾ä¸‹çš„å­—æ®µé…ç½®ä¿¡æ¯
        "controlId": "string",
        "controlName": "string",
        ......
      }],
      "worksheetInfo": {...}    // å½“å‰å·¥ä½œè¡¨é…ç½®ä¿¡æ¯
    }
}
```

### mdye.api

ä½¿ç”¨VS Code ç­‰æ”¯æŒä»£ç æç¤ºçš„ç¼–è¾‘å™¨æ—¶ç¼–è¾‘å™¨ä¼šè‡ªåŠ¨æ˜¾ç¤ºä½¿ç”¨æ–¹æ³•

![ä»£ç æç¤º](_readme_static_assets/developer_view25.png)

#### getFilterRows(*params*)<br />è·å–å·¥ä½œè¡¨è¡Œè®°å½•æ•°æ®

```javascript
/**
* è·å–æŒ‡å®šè§†å›¾ä¸‹å·¥ä½œè¡¨è®°å½•
* @param params å‚æ•°
* @param {string} params.worksheetId å·¥ä½œè¡¨id
* @param params.viewId è§†å›¾id
* @param params.pageSize æ¯é¡µæ•°é‡
* @param params.pageIndex é¡µç 
* @param params.sortId æ’åºå­—æ®µ
* @param params.isAsc æ˜¯å¦å‡åº
* @param params.notGetTotal ä¸è¿”å›æ€»æ•°ï¼Œè®¾ä¸º true æ—¶æ¥å£é€Ÿåº¦å¿«
* @returns { data }
*/
```

#### getFilterRowsTotalNum(*params*)<br />è·å–å·¥ä½œè¡¨è¡Œè®°å½•æ•°

```javascript
/**
* @param params å‚æ•°
* @param {string} params.worksheetId å·¥ä½œè¡¨id
* @param {string} params.viewId è§†å›¾id
* @param {number} params.pageSize æ¯é¡µæ•°é‡
* @param {number} params.pageIndex é¡µç 
* @returns { data } { state: 1, data: "100" }
*/
```

#### getRowDetail(*params*)<br />è·å–è¡Œè®°å½•è¯¦æƒ…

```javascript
/**
* è·å–è§†å›¾ä¸‹æŒ‡å®šè®°å½•è¯¦æƒ…
* @param params å‚æ•°
* @param params.appId åº”ç”¨id
* @param params.worksheetId å·¥ä½œè¡¨id
* @param params.viewId è§†å›¾id
* @param params.rowId è®°å½•id
* @param params.getTemplate è¿”å›å¯¹åº”è¡¨ä¿¡æ¯
* @returns { data }
*/
```

#### getRowRelationRows(*params*)<br />è·å–å…³è”è®°å½•

```javascript
/**
* è·å–è§†å›¾ä¸‹æŒ‡å®šè®°å½•æ‰€å…³è”çš„å­è¡¨ã€å…³è”è®°å½•åˆ—è¡¨
* @param params å‚æ•°
* @param params.controlId å…³è”è®°å½•å­—æ®µæˆ–å­è¡¨å­—æ®µçš„controlId
* @param params.rowId è®°å½•id
* @param params.worksheetId å½“å‰è¡¨(å…³è”è®°å½•å­—æ®µæˆ–å­è¡¨å­—æ®µæ‰€åœ¨è¡¨)id
* @param params.keywords æœç´¢è®°å½•å…³é”®å­—
* @param params.pageSize æ¯é¡µæ•°é‡
* @param params.pageIndex é¡µç 
* @param params.getWorksheet å¯¹åº”å…³è”è¡¨å¯¹è±¡
* @returns { data }
*/
```

#### addWorksheetRow(*params*)<br />åˆ›å»ºè®°å½•

```javascript
/**
* æ·»åŠ è®°å½•
* @param params å‚æ•°
* @param params.appId åº”ç”¨id
* @param params.worksheetId åº”ç”¨id
* @param params.receiveControls å­—æ®µæ•°æ® å…·ä½“çœ‹æ–‡æ¡£
* @returns { data }
*/

receiveControls: [
  {
    controlId: "",
    value: "",
  },
]
```

#### updateWorksheetRow(*params*)<br />æ›´æ–°è¡Œè®°å½•

```javascript
/**
* ä¿å­˜è®°å½•
* @param params å‚æ•°
* @param params.appId åº”ç”¨id
* @param params.worksheetId å·¥ä½œè¡¨id
* @param params.rowId è®°å½•id
* @param params.newOldControl å­—æ®µæ•°æ® å…·ä½“çœ‹æ–‡æ¡£
* @returns { data }
*/
```

#### deleteWorksheetRow(*params*)<br />åˆ é™¤è¡Œè®°å½•

```javascript
/**
* åˆ é™¤è®°å½•
* @param params å‚æ•°
* @param params.appId åº”ç”¨id
* @param params.worksheetId å·¥ä½œè¡¨id
* @param params.rowIds è®°å½•idåˆ—è¡¨
* @returns { data }
*/
```

### mdye.utils

#### openNewRecord(*params*)<br />æ‰“å¼€æ–°å»ºè®°å½•å¼¹çª—

```javascript
/**
 * æ‰“å¼€åˆ›å»ºè®°å½•å¼¹çª—
 * @param params å‚æ•°
 * @param params.appId åº”ç”¨id
 * @param params.worksheetId å·¥ä½œè¡¨id
 * @param params.onAdd åˆ›å»ºè®°å½•æˆåŠŸå›è°ƒ (newRow) => {}
 */
openNewRecord: (params: {
    appId: string;
    worksheetId: string;
    onAdd: function;
}) => any;
```

#### openRecordInfo(*params*)<br />æ‰“å¼€è®°å½•è¯¦æƒ…å¼¹çª—

```javascript
/**
 * æ‰“å¼€è®°å½•è¯¦æƒ…å¼¹çª—
 * @param params å‚æ•°
 * @param params.appId åº”ç”¨id
 * @param params.worksheetId å·¥ä½œè¡¨id
 * @param params.viewId è§†å›¾id
 * @param params.recordId è®°å½•id
 * @param params.onClose å…³é—­å¼¹çª—å›è°ƒ
 * @param params.updateRows æ›´æ–°è®°å½•å›è°ƒ (rowIds, newRow) => {}
 */
openRecordInfo: (params: {
    appId: string;
    worksheetId: string;
    viewId: string;
    recordId: string;
    onClose: function;
    updateRows: function;
}) => any;
```

#### selectRecord(*params*)<br />æ‰“å¼€é€‰æ‹©è®°å½•å¼¹çª—

```javascript
/**
 * é€‰æ‹©è®°å½•
 * @param params å‚æ•°
 * @param params.projectId ç»„ç»‡id[å¯é€‰]é»˜è®¤å½“å‰åº”ç”¨æ‰€åœ¨ç»„ç»‡
 * @param params.multiple é€‰å¤šä¸ª
 * @param params.relateSheetId å¯¹åº”çš„å·¥ä½œè¡¨ id
 * @param params.onSelect é€‰æ‹©å®Œæˆå›è°ƒ (records) => {}
 */
selectRecord: (params: {
    projectId: string,
    relateSheetId: string,
    multiple: boolean,
    onSelect: function;
}) => any;
```

#### selectUsers(*params*)<br />æ‰“å¼€é€‰æ‹©æˆå‘˜å¼¹çª—

```javascript
/**
 * é€‰æ‹©äººå‘˜
 * @param params å‚æ•°
 * @param params.projectId ç»„ç»‡id[å¯é€‰]é»˜è®¤å½“å‰åº”ç”¨æ‰€åœ¨ç»„ç»‡
 * @param params.unique åªèƒ½é€‰ä¸€ä¸ª
 * @param params.onSelect é€‰æ‹©å®Œæˆå›è°ƒ (users) => {}
 */
selectUsers: (params: {
    projectId: string,
    unique: boolean,
    onSelect: function;
}) => any;
```

#### selectDepartments(*params*)<br />æ‰“å¼€é€‰æ‹©éƒ¨é—¨å¼¹çª—

```javascript
/**
 * é€‰æ‹©éƒ¨é—¨
 * @param params å‚æ•°
 * @param params.projectId ç»„ç»‡id[å¯é€‰]é»˜è®¤å½“å‰åº”ç”¨æ‰€åœ¨ç»„ç»‡
 * @param params.unique åªèƒ½é€‰ä¸€ä¸ª
 * @param params.onSelect é€‰æ‹©å®Œæˆå›è°ƒ (departments) => {}
 */
selectDepartments: (params: {
    projectId: string,
    unique: boolean,
    onSelect: function;
}) => any;
```

#### selectOrgRole(*params*)<br />æ‰“å¼€é€‰æ‹©ç»„ç»‡è§’è‰²å¼¹çª—

```javascript
/**
 * é€‰æ‹©ç»„ç»‡è§’è‰²
 * @param params å‚æ•°
 * @param params.projectId ç»„ç»‡id[å¯é€‰]é»˜è®¤å½“å‰åº”ç”¨æ‰€åœ¨ç»„ç»‡
 * @param params.unique åªèƒ½é€‰ä¸€ä¸ª
 * @param params.onSelect é€‰æ‹©å®Œæˆå›è°ƒ (departments) => {}
 */
selectOrgRole: (params: {
    projectId: string,
    unique: boolean,
    onSelect: function;
}) => any;
```

#### selectLocation(*params*)<br />æ‰“å¼€é€‰æ‹©åœ°å›¾å®šä½å¼¹çª—

```javascript
/**
 * é€‰æ‹©åœ°å›¾å®šä½
 * @param params å‚æ•°
 * @param params.distance è·ç¦»
 * @param params.closeAfterSelect é€‰æ‹©åœ°ç‚¹åå…³é—­å¼¹çª—
 * @param params.multiple é€‰å¤šä¸ª
 * @param params.defaultPosition  é»˜è®¤ä½ç½® {lat, lng}
 * @param params.onSelect é€‰æ‹©å®Œæˆå›è°ƒ () => {}
 * @param params.onClose å…³é—­å›è°ƒ () => {}
 */
selectLocation: (params: {
    distance: number,
    defaultPosition: Object,
    multiple: boolean,
    onSelect: function,
    onClose: function
}) => any;
```

### mdye æ¶ˆæ¯ç³»ç»Ÿ

mdyeæ”¯æŒä»¥å‘å¸ƒè®¢é˜…çš„æ¨¡å¼å“åº”æ’ä»¶å¤–éƒ¨çš„æ“ä½œï¼Œæ¯”å¦‚å½“è§†å›¾ç­›é€‰å‘ç”Ÿå˜åŒ–æ—¶æ’ä»¶å¯ä»¥æ¥æ”¶åˆ°å˜æ›´åçš„ç­›é€‰å€¼å»é‡æ–°è¯·æ±‚æ•°æ®ã€‚

ä¸€ä¸ªç®€å•çš„ç”¨æ³•ï¼š

#### 

```javascript
import React, { useEffect, useState, useCallback } from "react";
import { env, config, api, utils, md_emitter } from "mdye";
import { parseEnv } from "./utils";
const { getFilterRows } = api;

export default function App() {
  const { appId, worksheetId, viewId, controls } = config;
  const mapViewConfig = parseEnv(env);
  const { loadNum } = mapViewConfig;
  const [records, setRecords] = useState([]);
  const [filters, setFilters] = useState({});
  async function loadRecords() {
    const res = await getFilterRows({
      worksheetId,
      viewId,
      pageIndex: 1,
      pageSize: loadNum,
      ...filters,
    });
    setRecords(res.data);
  }
  const handleFiltersUpdate = useCallback((newFilers) => {
    setFilters(newFilers);
  }, []);
  useEffect(() => {
    loadRecords();
  }, [filters]);
  useEffect(() => {
    md_emitter.addListener("filters-update", handleFiltersUpdate);
    return () => {
      md_emitter.removeListener("filters-update", handleFiltersUpdate);
    };
  }, []);
  return (
    <div>
        { records.length }
    </div>
  );
}
```
å½“å‰æ”¯æŒçš„äº‹ä»¶ï¼š

- `filters-update` ç­›é€‰æ¡ä»¶å˜æ›´
- `new-record` æŒ‰é’®æ·»åŠ è®°å½•